<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Black Card | TAPD. Premium</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Inter:wght@300;400;600&family=Playfair+Display:ital,wght@1,400&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="product.css">
</head>
<body class="premium-product-page">

    <!-- Background Elements -->
    <div class="noise-overlay"></div>
    <div class="ambient-glow"></div>
    <div class="grid-lines"></div>

    <!-- Navigation (Injected by script if missing, but we add it here for structure) -->
    <nav class="glass-nav">
        <a href="index.html" class="logo">TAPD<span>.</span></a>
        <div class="nav-right">
            <a href="shop.html" class="nav-link">COLLECTION</a>
            <div class="nav-icon cart-trigger" onclick="toggleCart()">
                <i class="fa-solid fa-bag-shopping"></i>
                <span id="cart-count">0</span>
            </div>
            <div class="nav-icon" onclick="toggleAccount()">
                <i class="fa-regular fa-user"></i>
            </div>
        </div>
    </nav>

    <!-- Main Product Layout -->
    <main class="product-hero">
        
        <!-- Left: Product Info -->
        <section class="product-details">
            <div class="breadcrumbs">
                <a href="index.html">Home</a> / <a href="shop.html">Collection</a> / <span class="current">Black Card</span>
            </div>
            
            <h1 class="p-title" id="dynamic-title" data-text="LOADING...">LOADING...</h1>
            <div class="p-subtitle" id="dynamic-subtitle">Loading product details...</div>
            
            <div class="p-price-container">
                <span class="currency">₹</span>
                <span class="amount" id="dynamic-price">--</span>
            </div>

            <div class="p-features" id="dynamic-features">
                <!-- Features will be injected here -->
            </div>

            <div class="p-description">
                <p id="dynamic-description">Please wait while we fetch the latest details from our secure vault.</p>
            </div>

            <div class="p-actions">
                <div class="quantity-selector">
                    <button onclick="adjustPageQty(-1)">-</button>
                    <span id="page-qty">1</span>
                    <button onclick="adjustPageQty(1)">+</button>
                </div>
                <button class="btn-add-cart" onclick="addToBag()">
                    <span>ADD TO BAG</span>
                    <div class="btn-fill"></div>
                </button>
            </div>
            
            <div class="secure-badge">
                <i class="fa-solid fa-shield-halved"></i> Secure Checkout • Free Shipping
            </div>
        </section>

        <!-- Right: 3D Visualization -->
        <section class="product-visual">
            <div class="visual-circle"></div>
            
            <!-- Fallback to CSS 3D if model fails or for aesthetic -->
            <div class="card-3d-wrapper" id="card-wrapper">
                <div class="card-3d-inner">
                    <div class="card-front" style="background: none; border: none; padding: 0; overflow: hidden; position: relative;">
                        <img id="card-front-img" src="" alt="Card Front" style="width: 100%; height: 100%; object-fit: cover; border-radius: 16px; display: none; position: absolute; inset: 0; z-index: 1;">
                        
                        <!-- Overlay Elements (z-index higher than img) -->
                        <div class="card-name" style="position: absolute; bottom: 25px; left: 25px; z-index: 2;">ALEXANDER</div>
                        <div class="card-shine" style="z-index: 3;"></div>
                    </div>
                    <div class="card-back" style="background: none; border: none; padding: 0; overflow: hidden; position: relative;">
                         <img id="card-back-img" src="" alt="Card Back" style="width: 100%; height: 100%; object-fit: cover; border-radius: 16px; display: none; position: absolute; inset: 0; z-index: 1;">
                         
                        <div class="qr-code" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 2;"></div>
                    </div>
                </div>
            </div>
            
            <div class="visual-controls">
                <button class="v-btn active" onclick="rotateCard('front')">FRONT</button>
                <button class="v-btn" onclick="rotateCard('back')">BACK</button>
                <button class="v-btn" onclick="rotateCard('float')">FLOAT</button>
            </div>
        </section>
    </main>

    <!-- Detailed Sections -->
    <section class="details-section">
        <div class="detail-grid">
            <div class="detail-box">
                <h3><i class="fa-solid fa-wand-magic-sparkles"></i> INSTANT CONNECT</h3>
                <p>Just tap your card on any smartphone to instantly share your contact info, social media, and more.</p>
            </div>
            <div class="detail-box">
                <h3><i class="fa-solid fa-sliders"></i> DYNAMIC PROFILE</h3>
                <p>Update your details anytime from your dashboard. The card stays the same, the content evolves.</p>
            </div>
            <div class="detail-box">
                <h3><i class="fa-solid fa-earth-americas"></i> ECO FRIENDLY</h3>
                <p>One card replaces thousands of paper business cards. Save trees while looking professional.</p>
            </div>
        </div>
    </section>

    <!-- Review Section -->
    <section class="reviews-section">
        <div class="reviews-header">
            <h2>CUSTOMER REVIEWS</h2>
            <div class="p-subtitle">What others are saying</div>
        </div>
        <div class="reviews-container">
            <div class="review-form-card">
                <h3>WRITE A REVIEW</h3>
                <form id="review-form" onsubmit="handleReviewSubmit(event)">
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" id="review-name" required placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label>Rating</label>
                        <select id="review-rating">
                            <option value="5">★★★★★ (5/5)</option>
                            <option value="4">★★★★☆ (4/5)</option>
                            <option value="3">★★★☆☆ (3/5)</option>
                            <option value="2">★★☆☆☆ (2/5)</option>
                            <option value="1">★☆☆☆☆ (1/5)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Review</label>
                        <textarea id="review-text" rows="4" required placeholder="Share your experience..."></textarea>
                    </div>
                    <button type="submit" class="submit-review-btn">SUBMIT REVIEW</button>
                </form>
            </div>
            <div class="reviews-list" id="reviews-list">
                <!-- Reviews injected here -->
                <div style="text-align:center; color:#888; padding: 20px;">Loading reviews...</div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="TAPD-footer premium-footer">
        <div class="footer-3d-bg"></div>
        <div class="footer-content">
            <div class="footer-brand">
                <h2 class="footer-logo">TAPD<span>.</span></h2>
                <p class="footer-tagline">The future is contactless.</p>
                <p class="footer-desc">Premium NFC hardware for the connected generation.</p>
                <div class="footer-social">
                    <a href="https://instagram.com/TAPD_.t" target="_blank" class="social-icon" title="Instagram">
                        <i class="fa-brands fa-instagram"></i>
                    </a>
                    <a href="https://wa.me/9103463033" target="_blank" class="social-icon" title="WhatsApp">
                        <i class="fa-brands fa-whatsapp"></i>
                    </a>
                    <a href="#" class="social-icon" title="LinkedIn">
                        <i class="fa-brands fa-linkedin"></i>
                    </a>
                    <a href="#" class="social-icon" title="TikTok">
                        <i class="fa-brands fa-tiktok"></i>
                    </a>
                </div>
            </div>
            
            <div class="footer-links-group" style="display: contents;">
                <div class="footer-nav-column">
                    <h3 class="footer-nav-title">EXPLORE</h3>
                    <ul class="footer-nav">
                        <li><a href="shop.html" class="footer-link">Shop Collection</a></li>
                        <li><a href="customize.html" class="footer-link">Customize</a></li>
                        <li><a href="about.html" class="footer-link">About Us</a></li>
                        <li><a href="track.html" class="footer-link">Track Order</a></li>
                    </ul>
                </div>
                
                <div class="footer-nav-column">
                    <h3 class="footer-nav-title">SUPPORT</h3>
                    <ul class="footer-nav">
                        <li><a href="contact.html" class="footer-link">Contact Us</a></li>
                        <li><a href="#" class="footer-link">Help Center</a></li>
                        <li><a href="legal.html#shipping" class="footer-link">Shipping Info</a></li>
                        <li><a href="legal.html#refunds" class="footer-link">Returns & Refunds</a></li>
                    </ul>
                </div>
                
                <div class="footer-nav-column">
                    <h3 class="footer-nav-title">LEGAL</h3>
                    <ul class="footer-nav">
                        <li><a href="legal.html#terms" class="footer-link">Terms of Service</a></li>
                        <li><a href="legal.html#privacy" class="footer-link">Privacy Policy</a></li>
                        <li><a href="legal.html#shipping" class="footer-link">Shipping Policy</a></li>
                        <li><a href="legal.html" class="footer-link">All Policies</a></li>
                    </ul>
                </div>
                
                <div class="footer-nav-column">
                    <h3 class="footer-nav-title">ACCOUNT</h3>
                    <ul class="footer-nav">
                        <li><a href="#" onclick="handleUserClick(); return false;" class="footer-link">My Profile</a></li>
                        <li><a href="#" onclick="toggleCart(); return false;" class="footer-link">Cart</a></li>
                        <li><a href="track.html" class="footer-link">Order History</a></li>
                        <li><a href="customize.html" class="footer-link">Saved Designs</a></li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="footer-bottom-content">
                <p>&copy; 2026 TAPD. Hardware. All rights reserved.</p>
                <div class="footer-bottom-links">
                    <a href="legal.html" class="footer-bottom-link">Legal</a>
                    <span class="footer-separator">•</span>
                    <a href="contact.html" class="footer-bottom-link">Contact</a>
                    <span class="footer-separator">•</span>
                    <a href="#" class="footer-bottom-link">Cookie Policy</a>
                </div>
            </div>
            <p class="footer-system-status">SYSTEM ONLINE // GEN-3 // 2026</p>
        </div>
    </footer>

    <!-- Global Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    
    <script src="script.js"></script>
    <script src="product.js"></script>
</body>
</html>
