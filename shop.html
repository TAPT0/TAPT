<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Collection | TAPD.</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400&family=Syncopate:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="shop.css">
</head>
<body>

    <div class="noise-overlay"></div>
    <div class="cyber-grid"></div>

    <div class="floating-assets">
        <div class="floater card left t1"></div>
        <div class="floater tag left t2"></div>
        <div class="floater card right t3"></div>
        <div class="floater tag right t1"></div>
    </div>

    <nav class="glass-nav">
        <a href="index.html" class="logo">TAPD<span>.</span></a>
        <div class="nav-right">
            <a href="customize.html" class="nav-link">Create</a>
            <a href="track.html" class="nav-icon" title="Track"><i class="fa-solid fa-crosshairs"></i></a>
            <div class="nav-icon" id="user-icon-trigger" onclick="handleUserClick()"><i class="fa-regular fa-circle-user"></i></div>
            <div class="cart-trigger" onclick="toggleCart()">
                <i class="fa-solid fa-bag-shopping"></i>
                <span id="cart-count">0</span>
            </div>
        </div>
    </nav>

    <header class="shop-hero">
        <div class="hero-content">
            <div class="tech-tag fade-in">COLLECTION / 2026 / GEN-3</div>
            <h1 class="hero-title fade-in">ENGINEERED <br><span class="gold-text">PERFECTION</span></h1>
            <p class="hero-desc fade-in-delay">Networking hardware forged from matte polycarbonate and titanium alloy.</p>
        </div>
    </header>

    <div class="sticky-controls reveal">
        <div class="controls-inner glass-hud">
            <div class="search-container">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" id="shop-search" placeholder="SEARCH DATABASE..." onkeyup="searchProducts()">
            </div>
            <div class="filter-container">
                <button class="filter-btn active" onclick="filterProducts('all', this)">ALL UNITS</button>
                <button class="filter-btn" onclick="filterProducts('card', this)">CARDS</button>
                <button class="filter-btn" onclick="filterProducts('tag', this)">TAGS</button>
            </div>
        </div>
    </div>

    <div class="showcase-container" id="shop-grid">
        <div class="loading-text">CONNECTING TO SERVER...</div>
    </div>

    <section class="core-section reveal">
        <div class="tech-divider"></div>
        <h2 class="section-title">SYSTEM <span class="gold-text">CORE</span></h2>
        <div class="blueprint-grid">
            <div class="tech-card">
                <div class="tech-header"><i class="fa-solid fa-microchip"></i><span>NFC-216</span></div>
                <h3>ZERO CONTACT</h3>
                <p>Embedded 13.56MHz chip. Instant data transmission to iOS & Android.</p>
            </div>
            <div class="tech-card">
                <div class="tech-header"><i class="fa-solid fa-layer-group"></i><span>MATTE.PVC</span></div>
                <h3>DURABLE BUILD</h3>
                <p>Waterproof, dustproof, and resistant to bending. Built for life.</p>
            </div>
            <div class="tech-card">
                <div class="tech-header"><i class="fa-solid fa-globe"></i><span>WEB.3.0</span></div>
                <h3>DYNAMIC LINK</h3>
                <p>Update your destination URL anytime. The hardware stays the same.</p>
            </div>
        </div>
    </section>

    <section class="newsletter-section reveal">
        <div class="newsletter-box glass-hud">
            <h3>SECURE YOUR ACCESS</h3>
            <p>Join the inner circle for exclusive drops and 10% off.</p>
            <div class="newsletter-input">
                <input type="email" placeholder="EMAIL ADDRESS">
                <button>INITIATE</button>
            </div>
        </div>
    </section>

    <footer class="TAPD-footer">
        <div class="footer-content">
            <div class="footer-brand">
                <h2 class="footer-logo">TAPD.</h2>
                <p>The future is contactless.</p>
            </div>
            <div class="footer-links-group">
                <ul class="footer-nav">
                    <li><a href="#">LEGAL</a></li>
                    <li><a href="#">PRIVACY</a></li>
                    <li><a href="#">TERMS</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom"><p>SYSTEM ONLINE // 2026 TAPD.</p></div>
    </footer>

    <div class="drawer" id="cart-drawer">
        <div class="drawer-header">
            <h2>INVENTORY</h2>
            <button class="close-btn" onclick="toggleCart()">&times;</button>
        </div>
        <div class="cart-items" id="cart-items-container"></div>
        <div class="cart-footer">
            <div class="coupon-wrapper">
                <input type="text" id="coupon-code" placeholder="ACCESS CODE">
                <button onclick="applyCoupon()">APPLY</button>
            </div>
            <div class="summary-row total"><span>TOTAL</span><span class="val" id="cart-total">â‚¹0</span></div>
            <button class="checkout-btn" onclick="window.location.href='checkout.html'">PROCEED</button>
        </div>
    </div>

    <div class="drawer" id="account-drawer">
        <div class="drawer-header">
            <h2>PROFILE</h2>
            <button class="close-btn" onclick="toggleAccount()">&times;</button>
        </div>
        <div class="drawer-content" id="account-content">Loading...</div>
    </div>

    <div class="auth-modal glass-hud" id="auth-modal">
        <div class="auth-content">
            <h2>IDENTIFY</h2>
            <button class="auth-btn-google" onclick="loginWithGoogle()">Google Access</button>
            <div class="auth-divider">OR</div>
            <form onsubmit="handleEmailAuth(event)">
                <input type="email" id="auth-email" class="auth-input" placeholder="EMAIL" required>
                <input type="password" id="auth-pass" class="auth-input" placeholder="KEY" required>
                <button type="submit" class="auth-btn-submit">AUTHENTICATE</button>
            </form>
            <button onclick="toggleAuthModal()" class="close-auth">ABORT</button>
        </div>
    </div>

    <div class="cart-overlay" onclick="closeAllDrawers()"></div>
    <div id="celebration-overlay" class="celebration-overlay">
        <div class="celebration-card glass-hud">
            <i class="fa-solid fa-check-circle" style="font-size:3rem; color:var(--gold);"></i>
            <h2>ACCESS GRANTED</h2>
            <p>Discount applied.</p>
            <button class="celeb-btn" onclick="closeCelebration()">CONTINUE</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <script src="shop.js"></script>
</body>
</html>
